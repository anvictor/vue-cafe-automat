# –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –ø–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—é Google Apps Script

## –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç—É

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∞—à—É Google –¢–∞–±–ª–∏—Ü—é: https://docs.google.com/spreadsheets/d/1y_Hml8869168BClaawxVOQ7lVuIheIIkmnNx03NRITE/edit

2. –£ –º–µ–Ω—é –≤–∏–±–µ—Ä—ñ—Ç—å: **–†–æ–∑—à–∏—Ä–µ–Ω–Ω—è ‚Üí Apps Script**

3. –í–∏–¥–∞–ª—ñ—Ç—å –≤–µ—Å—å –∫–æ–¥ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º

4. –°–∫–æ–ø—ñ—é–π—Ç–µ –∫–æ–¥ –∑ —Ñ–∞–π–ª—É `server/google-apps-script/warehouse.gs`

5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **–ó–±–µ—Ä–µ–≥—Ç–∏** (üíæ) —Ç–∞ –¥–∞–π—Ç–µ –Ω–∞–∑–≤—É –ø—Ä–æ—î–∫—Ç—É: "Coffee Machine Warehouse API"

## –ö—Ä–æ–∫ 2: –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —è–∫ Web App

1. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **–†–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ ‚Üí –ù–æ–≤–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è**

2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
   - **–¢–∏–ø:** –í–µ–±-–¥–æ–¥–∞—Ç–æ–∫ (Web app)
   - **–û–ø–∏—Å:** Coffee Machine Warehouse API v1
   - **–í–∏–∫–æ–Ω–∞—Ç–∏ —è–∫:** –Ø (–≤–∞—à email)
   - **–•—Ç–æ –º–∞—î –¥–æ—Å—Ç—É–ø:** –£—Å—ñ (Anyone)

3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **–†–æ–∑–≥–æ—Ä–Ω—É—Ç–∏**

4. **–°–∫–æ–ø—ñ—é–π—Ç–µ URL –≤–µ–±-–¥–æ–¥–∞—Ç–∫—É** - –≤—ñ–Ω –≤–∏–≥–ª—è–¥–∞—î —Ç–∞–∫:

   ```
   https://script.google.com/macros/s/AKfycby.../exec
   ```

5. **–ù–∞–¥—ñ—à–ª—ñ—Ç—å –º–µ–Ω—ñ —Ü–µ–π URL!**

## –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

–ü—ñ—Å–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç—å –ª–∏—Å—Ç "Warehouse" –∑ —Ç–∞–∫–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é:

| Resource  | Amount | Last Updated |
| --------- | ------ | ------------ |
| water     | 5000   |              |
| coffee    | 1000   |              |
| milk      | 5000   |              |
| smallCups | 100    |              |
| largeCups | 100    |              |
| stirrers  | 200    |              |
| sugar     | 200    |              |

## –ö—Ä–æ–∫ 4: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API

–í—ñ–¥–∫—Ä–∏–π—Ç–µ URL —É –±—Ä–∞—É–∑–µ—Ä—ñ - –≤–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø–æ–±–∞—á–∏—Ç–∏ JSON –∑ –ø–æ—Ç–æ—á–Ω–∏–º —Å—Ç–∞–Ω–æ–º —Å–∫–ª–∞–¥—É:

```json
{
  "success": true,
  "data": {
    "water": 5000,
    "coffee": 1000,
    "milk": 5000,
    "smallCups": 100,
    "largeCups": 100,
    "stirrers": 200,
    "sugar": 200
  },
  "timestamp": "2025-12-24T15:10:00.000Z"
}
```

## API Endpoints

### GET - –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–∫–ª–∞–¥

```bash
curl "https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec"
```

### POST - –ö—É–ø–∏—Ç–∏ —Ä–µ—Å—É—Ä—Å

```bash
curl -X POST "https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec" \
  -H "Content-Type: application/json" \
  -d '{"action":"purchase","resource":"water","amount":750}'
```

### POST - –ü–µ—Ä–µ–¥–∞—Ç–∏ –∫–ª—ñ—î–Ω—Ç—É

```bash
curl -X POST "https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec" \
  -H "Content-Type: application/json" \
  -d '{"action":"transfer","resource":"water","amount":300}'
```

## Troubleshooting

**–ü–æ–º–∏–ª–∫–∞ "Authorization required":**

- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ "–•—Ç–æ –º–∞—î –¥–æ—Å—Ç—É–ø" –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ "–£—Å—ñ"
- –°–ø—Ä–æ–±—É–π—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

**–ü–æ–º–∏–ª–∫–∞ "Script function not found":**

- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –∫–æ–¥ –∑–±–µ—Ä–µ–∂–µ–Ω–æ
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ —Ñ—É–Ω–∫—Ü—ñ—ó `doGet` —Ç–∞ `doPost` –ø—Ä–∏—Å—É—Ç–Ω—ñ

**–õ–∏—Å—Ç "Warehouse" –Ω–µ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è:**

- –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ñ—É–Ω–∫—Ü—ñ—é `testScript()` –≤—Ä—É—á–Ω—É –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ Apps Script
- –ê–±–æ –ø—Ä–æ—Å—Ç–æ –≤—ñ–¥–∫—Ä–∏–π—Ç–µ URL —É –±—Ä–∞—É–∑–µ—Ä—ñ - –ª–∏—Å—Ç —Å—Ç–≤–æ—Ä–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
